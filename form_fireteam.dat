<?xml version="1.0" encoding="ISO-8859-1"?>

<document signature="Hero Lab Data">

  <portal
    id="prtFT"
    style="tblNormal">
    <table_dynamic
      component="Specialty"
      showtemplate="FTPick"
      choosetemplate="FTPick2"
      scrollable="yes"
      alwaysupdate="yes"
      
      
      addpick="FTHelp">
      
      <titlebar><![CDATA[
        @text = "Add a Specialty"
        ]]></titlebar>
      <!--headertitle><![CDATA[
        @text = "Specialty"
        ]]></headertitle-->
      <additem><![CDATA[
        @text = "Add Specialty"
        ]]>
        </additem>
      </table_dynamic>      
    </portal>

  <template
    id="FTPick"
    name="Specialty Pick"
    compset="Specialty"
    marginhorz="3"
    marginvert="1">

    <portal
      id="name"
      style="lblSmall">
      <label>
        <labeltext><![CDATA[
          @text = field[thingname].text
          ]]></labeltext>
        </label>
      </portal>
    
    <portal
      id="delete"
      style="actDelete"
      tiptext="Click to delete this item">
      <action
        action="delete">
        </action>
      </portal>
      
    <portal
    id="domain"
    style="editNormal">
    <edit
      field="domDomain">
      </edit>
    </portal>

    <position><![CDATA[
    
      ~set up our height based on our tallest portal
      height = portal[name].height

      ~if this is a "sizing" calculation, we're done
      doneif (issizing <> 0)

      ~position our tallest portal at the top
      portal[name].top = 0
      portal[name].left = 0
      portal[name].width = 250
      
      ~center the other portals vertically
      perform portal[delete].centervert

      ~position the delete portal on the far right
      perform portal[delete].alignedge[right,0]
      
      ~if we don't need a domain, hide it and let the name use all available space
      if (tagis[User.NeedDomain] = 0) then
        portal[domain].visible = 0
        portal[name].width = minimum(portal[name].width,portal[delete].left - portal[name].left - 10)

      ~otherwise, position the domain portals next to the name
      else
        perform portal[domain].alignrel[ltor,name,5]
        portal[domain].width = 50
        endif 
      

      ]]></position>
    </template>

  <template
    id="FTPick2"
    name="Specialty Pick (no Domain field)"
    compset="Specialty"
    marginhorz="3"
    marginvert="1">

    <portal
      id="name"
      style="lblSmall">
      <label>
        <labeltext><![CDATA[
          @text = field[name].text
          ]]></labeltext>
        </label>
      </portal>
    
    <position><![CDATA[
    
      ~set up our height based on our tallest portal
      height = portal[name].height

      ~if this is a "sizing" calculation, we're done
      doneif (issizing <> 0)

      ~position our tallest portal at the top
      portal[name].top = 0
      portal[name].left = 0
      portal[name].width = 150
      
      ]]></position>
    </template>

  <template
    id="FTPick3"
    name="Specialty Pick (with skill)"
    compset="Specialty"
    marginhorz="3"
    marginvert="1">

    <portal
      id="name"
      style="lblSmall">
      <label>
        <labeltext><![CDATA[
          @text = field[spcTabName].text
          ]]></labeltext>
        </label>
      </portal>
    
    <position><![CDATA[
    
      ~set up our height based on our tallest portal
      height = portal[name].height

      ~if this is a "sizing" calculation, we're done
      doneif (issizing <> 0)

      ~position our tallest portal at the top
      portal[name].top = 0
      portal[name].left = 0
      portal[name].width = 150
      
      ]]></position>
    </template>
  
    <layout
    id="layFT"
    marginvert="4">
    <portalref portal="prtFT" taborder="20"/>
    <position><![CDATA[
      ~perform portal[prtFT].batchadd
      ~perform batchplace
      
      ~position and size the table to span the full layout
      portal[prtFT].left = 0
      portal[prtFT].width = width
      portal[prtFT].height = 400
      
      
      ]]></position>
    </layout>

    <form
      id="frmFT"
      name="Fireteam"
      marginhorz="10"
      marginvert="5">
      <layoutref layout="layFT"/>
      <position><![CDATA[
        layout[layFT].width = 400
        perform layout[layFT].render
        width = layout[layFT].width
        height = 400
        ]]></position>
      </form>

  </document>
